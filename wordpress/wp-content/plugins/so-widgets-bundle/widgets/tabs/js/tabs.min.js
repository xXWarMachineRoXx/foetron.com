var sowb=window.sowb||{};jQuery((function(t){sowb.setupTabs=function(){t(".sow-tabs").each((function(a,o){var e=t(o),i=e.closest(".so-widget-sow-tabs");if(i.data("initialized"))return t(this);var s,n=!!i.data("anchor-id")&&i.data("anchor-id"),r=e.find("> .sow-tabs-panel-container"),d=e.find("> .sow-tabs-tab-container > .sow-tabs-tab"),c=e.find(".sow-tabs-tab-selected").index(),w=r.find("> .sow-tabs-panel");w.not(":eq("+c+")").hide();var h=function(a){var o=sowTabs.scrollto_offset?sowTabs.scrollto_offset:90,e=i.offset().top-o;a?t("body,html").animate({scrollTop:e},200):window.scrollTo(0,e)},l=function(t){return sowTabs.scrollto_after_change&&(t.offset().top<window.scrollY||t.offset().top+t.height()>window.scrollY)},f=function(a,o){var e=t(a);if(e.is(".sow-tabs-tab-selected"))return l(e)&&h(!0),!0;var r=e.index();if(r>-1){s&&s.finish();var c=d.filter(".sow-tabs-tab-selected");c.removeClass("sow-tabs-tab-selected");var f=c.index(),b=w.eq(f).children(),u=w.eq(r).children();if(c.attr("tabindex",-1),c.attr("aria-selected",!1),b.attr("tabindex",-1),e.attr("tabindex",0),e.attr("aria-selected",!0),u.attr("tabindex",0),b.attr("aria-hidden","true"),s=w.eq(f).fadeOut("fast",(function(){t(this).trigger("hide"),u.removeAttr("aria-hidden"),w.eq(r).fadeIn({duration:"fast",start:function(){t(window).trigger("resize"),t(sowb).trigger("setup_widgets")},complete:function(){t(this).trigger("show"),(o||l(e))&&h(!0)}})})),e.addClass("sow-tabs-tab-selected"),!o&&(n||i.data("use-anchor-tags")))if(n){var g=e.data("anchor");1!=i.data("anchor-id")&&(g=i.data("anchor-id")+"-"+g),window.location.hash=g}else window.location.hash=e.data("anchor")}};if(d.on("click",(function(){f(this)})),d.on("keyup",(function(a){var o,e=t(this);37!==a.keyCode&&39!==a.keyCode||(37===a.keyCode&&(o=e.prev().get(0)?e.prev():e.siblings().last()),39===a.keyCode&&(o=e.next().get(0)?e.next():e.siblings().first()),e!==o&&(o.trigger("focus"),f(o.get(0))))})),i.data("anchor-id")||i.data("use-anchor-tags")){var b=function(){window.location.hash&&window.location.hash.substring(1).split(",").forEach((function(a){var o=d.filter((function(o,e){var s=t(e).data("anchor");return i.data("anchor-id")&&1!=i.data("anchor-id")&&(s=i.data("anchor-id")+"-"+s),decodeURI(a)===decodeURI(s)}));o.length>0&&f(o,!0)}))};t(window).on("hashchange",b),window.location.hash&&b()}i.data("initialized",!0)}))},sowb.setupTabs(),t(sowb).on("setup_widgets",sowb.setupTabs)})),window.sowb=sowb;